<!-- Register page -->
<div class='reg__page grid__column-10' id={{role}}>
  <div class='reg_control'>
    <div class='grid__row'>
      <div class='grid__column-2 form-reg'>
        <p class='welcome'>Create Account</p>
        <form class='login' method='POST' action='/register/store'>

          <div class='login'>
            <label for='user_name'></label>
            <input
              type='text'
              placeholder='User name'
              class='login__input login__input--user'
              id='user_name'
              name='user_name'
            />
          </div>

          <!-- In practice, use type="password" -->
          <div class='login'>
            <label for='pass_word'></label>
            <input
              type='password'
              placeholder='PIN'
              minlength='3'
              class='login__input login__input--pin'
              id='pass'
              name='pass_word'
            />
            <input
              type='password'
              placeholder='Confirm'
              minlength='3'
              class='login__input login__input--pin'
              name="confirm"
            />
          </div>

          <div class='login device hidden'>
            <label for='devices'></label>
            <input
              type='text'
              placeholder='ip devices'
              class='login__input login__input--user'
              name='devices'
            />
          </div>

          <div class='login'>
            <select name='role' class='login__input login__input--user'>
              <option value='manager'>Manager</option>
              <option value='operator'>Operator</option>
              <option value='viewer'>Viewer</option>
            </select>
          </div>

          <button class='login__btn'>&rarr;</button>
        </form>
      </div>

      <div class='grid__column-2-3'>
        <div class='reg__table'>
          <div class='grid__row'>
            <!-- table tittle -->
            <div class='table table__header'>
              {{!-- <span class='table__id'>ID</span> --}}
              <span class='table__name'>Name</span>
              <span class='table__role'>Role</span>
            </div>

            <!-- Table data -->
            {{#each registers}}
            <div class='table table__data'>
            {{!-- <span class='table__id'>{{this._id}}</span> --}}
            <span class='table__name'>{{this.user_name}}</span>
            <span class='table__role'>{{this.role}}</span>
            </div>

            {{/each}}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', async function(){
    const container = document.querySelector('.reg__page');
    const device = document.querySelector('.device');

    
    //get role
    const role = await container.id;

    if (role === 'admin') {
      device.classList.remove('hidden');
      device.classList.add('active');
    }
    

  })
</script>